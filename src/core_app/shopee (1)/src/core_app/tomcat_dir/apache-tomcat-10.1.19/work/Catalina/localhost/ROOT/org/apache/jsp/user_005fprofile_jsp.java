/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/10.1.19
 * Generated at: 2026-03-01 13:29:49 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import jakarta.servlet.jsp.*;
import model.User;

public final class user_005fprofile_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports,
                 org.apache.jasper.runtime.JspSourceDirectives {

  private static final jakarta.servlet.jsp.JspFactory _jspxFactory =
          jakarta.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("/WEB-INF/lib/jakarta.servlet.jsp.jstl-3.0.1.jar", Long.valueOf(1772342996000L));
    _jspx_dependants.put("jar:file:/D:/shopee%20(1)/src/core_app/tomcat_dir/apache-tomcat-10.1.19/webapps/ROOT/WEB-INF/lib/jakarta.servlet.jsp.jstl-3.0.1.jar!/META-INF/c-1_2.tld", Long.valueOf(1664428278000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.LinkedHashSet<>(3);
    _jspx_imports_packages.add("jakarta.servlet");
    _jspx_imports_packages.add("jakarta.servlet.http");
    _jspx_imports_packages.add("jakarta.servlet.jsp");
    _jspx_imports_classes = new java.util.LinkedHashSet<>(1);
    _jspx_imports_classes.add("model.User");
  }

  private volatile jakarta.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public boolean getErrorOnELNotFound() {
    return false;
  }

  public jakarta.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final jakarta.servlet.http.HttpServletRequest request, final jakarta.servlet.http.HttpServletResponse response)
      throws java.io.IOException, jakarta.servlet.ServletException {

    if (!jakarta.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final jakarta.servlet.jsp.PageContext pageContext;
    jakarta.servlet.http.HttpSession session = null;
    final jakarta.servlet.ServletContext application;
    final jakarta.servlet.ServletConfig config;
    jakarta.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    jakarta.servlet.jsp.JspWriter _jspx_out = null;
    jakarta.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"vi\">\r\n");
      out.write("\r\n");
      out.write("<head>\r\n");
      out.write("    <meta charset=\"UTF-8\">\r\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n");
      out.write("    <title>Hồ Sơ Của Tôi | Shopee Việt Nam</title>\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css\">\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/style.css?v=2.0\">\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/user_profile.css?v=2.0\">\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("    <div class=\"app\">\r\n");
      out.write("        <!-- HEADER (Giống shopee_home.jsp) -->\r\n");
      out.write("        <header class=\"header\">\r\n");
      out.write("            <nav class=\"header__navbar\">\r\n");
      out.write("                <ul class=\"header__navbar-list\">\r\n");
      out.write("                    <li class=\"header__navbar-item header__navbar-item--separate\"><a href=\"#\" class=\"header__navbar-item-link\">Kênh Người Bán</a></li>\r\n");
      out.write("                    <li class=\"header__navbar-item header__navbar-item--separate\"><a href=\"#\" class=\"header__navbar-item-link\">Trở thành Người bán Shopee</a></li>\r\n");
      out.write("                    <li class=\"header__navbar-item header__navbar-item--separate\"><a href=\"#\" class=\"header__navbar-item-link\">Tải ứng dụng</a></li>\r\n");
      out.write("                    <li class=\"header__navbar-item\">\r\n");
      out.write("                        Kết nối\r\n");
      out.write("                        <a href=\"#\" class=\"header__navbar-item-link\"><i class=\"fab fa-facebook\"></i></a>\r\n");
      out.write("                        <a href=\"#\" class=\"header__navbar-item-link\"><i class=\"fab fa-instagram\"></i></a>\r\n");
      out.write("                    </li>\r\n");
      out.write("                </ul>\r\n");
      out.write("\r\n");
      out.write("                <ul class=\"header__navbar-list\">\r\n");
      out.write("                    <li class=\"header__navbar-item\"><a href=\"#\" class=\"header__navbar-item-link\"><i class=\"far fa-bell\"></i> Thông báo</a></li>\r\n");
      out.write("                    <li class=\"header__navbar-item\"><a href=\"#\" class=\"header__navbar-item-link\"><i class=\"far fa-question-circle\"></i> Hỗ trợ</a></li>\r\n");
      out.write("                    ");
 User acc=(User) session.getAttribute("account"); if (acc !=null) { 
      out.write("\r\n");
      out.write("                        <li class=\"header__navbar-item header__navbar-item--separate\" style=\"font-weight: 500;\">\r\n");
      out.write("                            <div class=\"user-dropdown-wrapper\">\r\n");
      out.write("                                <div class=\"user-dropdown-trigger\" id=\"userDropdownTrigger\">\r\n");
      out.write("                                    <span class=\"user-avatar-small\"><i class=\"fas fa-user-circle\"></i></span>\r\n");
      out.write("                                    <span>");
      out.print( acc.getFullName() );
      out.write("</span>\r\n");
      out.write("                                    ");
 if ("admin".equalsIgnoreCase(acc.getRole())) { 
      out.write("\r\n");
      out.write("                                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/admin\" style=\"color: #ffce3d; margin-left:5px; font-weight: bold; text-decoration:none;\" onclick=\"event.stopPropagation();\">[ADMIN]</a>\r\n");
      out.write("                                    ");
 } 
      out.write("\r\n");
      out.write("                                    <i class=\"fas fa-chevron-down user-dropdown-arrow\"></i>\r\n");
      out.write("                                </div>\r\n");
      out.write("                                <div class=\"user-dropdown-menu\" id=\"userDropdownMenu\">\r\n");
      out.write("                                    <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/user/account/profile\" class=\"user-dropdown-item\">Tài Khoản Của Tôi</a>\r\n");
      out.write("                                    <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/user/purchase\" class=\"user-dropdown-item\">Đơn Mua</a>\r\n");
      out.write("                                    <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/logout\" class=\"user-dropdown-item\">Đăng Xuất</a>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </li>\r\n");
      out.write("                    ");
 } else { 
      out.write("\r\n");
      out.write("                        <li class=\"header__navbar-item header__navbar-item--separate\"><a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/register\" class=\"header__navbar-item-link\" style=\"font-weight: 500;\">Đăng ký</a></li>\r\n");
      out.write("                        <li class=\"header__navbar-item\"><a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/login\" class=\"header__navbar-item-link\" style=\"font-weight: 500;\">Đăng nhập</a></li>\r\n");
      out.write("                    ");
 } 
      out.write("\r\n");
      out.write("                </ul>\r\n");
      out.write("            </nav>\r\n");
      out.write("\r\n");
      out.write("            <div class=\"header-with-search\">\r\n");
      out.write("                <div class=\"header__logo\">\r\n");
      out.write("                    <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/home\" class=\"header__logo-img-wrapper\">\r\n");
      out.write("                        <i class=\"fa-solid fa-bag-shopping\"></i> Shopee\r\n");
      out.write("                    </a>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div style=\"flex: 1;\">\r\n");
      out.write("                    <div class=\"header__search\">\r\n");
      out.write("                        <form action=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/search\" method=\"get\" class=\"header__search-input-wrap\" style=\"width:100%; display:flex;\">\r\n");
      out.write("                            <input type=\"text\" name=\"txt\" class=\"header__search-input\" placeholder=\"Tìm kiếm sản phẩm\" style=\"flex:1;\">\r\n");
      out.write("                            <button type=\"submit\" class=\"header__search-btn\">\r\n");
      out.write("                                <i class=\"fas fa-search header__search-btn-icon\"></i>\r\n");
      out.write("                            </button>\r\n");
      out.write("                        </form>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"header__cart\">\r\n");
      out.write("                    <div class=\"header__cart-wrap\">\r\n");
      out.write("                        <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/cart\" style=\"text-decoration:none; color:inherit;\">\r\n");
      out.write("                            <i class=\"fas fa-shopping-cart header__cart-icon\"></i>\r\n");
      out.write("                            <span class=\"header__cart-notice\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sessionScope.cart != null ? sessionScope.cart.totalQuantity : 0}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</span>\r\n");
      out.write("                        </a>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </header>\r\n");
      out.write("\r\n");
      out.write("        <!-- TOAST NOTIFICATION -->\r\n");
      out.write("        ");

            String successMsg = (String) session.getAttribute("success");
            String errorMsg = (String) session.getAttribute("error");
            if (successMsg != null) session.removeAttribute("success");
            if (errorMsg != null) session.removeAttribute("error");
        
      out.write("\r\n");
      out.write("        ");
 if (successMsg != null) { 
      out.write("\r\n");
      out.write("            <div class=\"profile-toast success show\" id=\"profileToast\">\r\n");
      out.write("                <i class=\"fas fa-check-circle\"></i>\r\n");
      out.write("                <span>");
      out.print( successMsg );
      out.write("</span>\r\n");
      out.write("            </div>\r\n");
      out.write("        ");
 } 
      out.write("\r\n");
      out.write("        ");
 if (errorMsg != null) { 
      out.write("\r\n");
      out.write("            <div class=\"profile-toast error show\" id=\"profileToast\">\r\n");
      out.write("                <i class=\"fas fa-exclamation-circle\"></i>\r\n");
      out.write("                <span>");
      out.print( errorMsg );
      out.write("</span>\r\n");
      out.write("            </div>\r\n");
      out.write("        ");
 } 
      out.write("\r\n");
      out.write("\r\n");
      out.write("        <!-- MAIN CONTENT -->\r\n");
      out.write("        <div class=\"app__container\">\r\n");
      out.write("            <div class=\"profile-container\">\r\n");
      out.write("\r\n");
      out.write("                <!-- SIDEBAR -->\r\n");
      out.write("                <div class=\"profile-sidebar\">\r\n");
      out.write("                    <!-- Mobile toggle -->\r\n");
      out.write("                    <div class=\"profile-sidebar-mobile-toggle\" id=\"sidebarToggle\">\r\n");
      out.write("                        <span class=\"toggle-text\"><i class=\"fas fa-bars\"></i> Menu tài khoản</span>\r\n");
      out.write("                        <i class=\"fas fa-chevron-down\"></i>\r\n");
      out.write("                    </div>\r\n");
      out.write("\r\n");
      out.write("                    <div class=\"profile-sidebar-menu\" id=\"sidebarMenu\">\r\n");
      out.write("                        <!-- User Info -->\r\n");
      out.write("                        <div class=\"profile-sidebar-user\">\r\n");
      out.write("                            <div class=\"profile-sidebar-avatar\">\r\n");
      out.write("                                <i class=\"fas fa-user\"></i>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div>\r\n");
      out.write("                                <div class=\"profile-sidebar-name\">");
      out.print( acc != null ? acc.getFullName() : "" );
      out.write("</div>\r\n");
      out.write("                                <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/user/account/profile\" class=\"profile-sidebar-edit\">\r\n");
      out.write("                                    <i class=\"fas fa-edit\"></i> Sửa Hồ Sơ\r\n");
      out.write("                                </a>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("                        <!-- Menu Items -->\r\n");
      out.write("                        <div class=\"profile-menu-section\">\r\n");
      out.write("                            <div class=\"profile-menu-heading blue\">\r\n");
      out.write("                                <i class=\"fas fa-user\"></i> Tài Khoản Của Tôi\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/user/account/profile\" class=\"profile-menu-item active\">\r\n");
      out.write("                                <i class=\"fas fa-id-card\"></i> Hồ Sơ\r\n");
      out.write("                            </a>\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-item\">\r\n");
      out.write("                                <i class=\"fas fa-university\"></i> Ngân Hàng\r\n");
      out.write("                            </a>\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-item\">\r\n");
      out.write("                                <i class=\"fas fa-map-marker-alt\"></i> Địa Chỉ\r\n");
      out.write("                            </a>\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-item\">\r\n");
      out.write("                                <i class=\"fas fa-lock\"></i> Đổi Mật Khẩu\r\n");
      out.write("                            </a>\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-item\">\r\n");
      out.write("                                <i class=\"fas fa-bell\"></i> Cài Đặt Thông Báo\r\n");
      out.write("                            </a>\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-item\">\r\n");
      out.write("                                <i class=\"fas fa-shield-alt\"></i> Những Thiết Lập Riêng Tư\r\n");
      out.write("                            </a>\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-item\">\r\n");
      out.write("                                <i class=\"fas fa-user-tag\"></i> Thông Tin Cá Nhân\r\n");
      out.write("                            </a>\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("                        <div class=\"profile-menu-section\">\r\n");
      out.write("                            <a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/user/purchase\" class=\"profile-menu-heading red\" style=\"text-decoration:none;\">\r\n");
      out.write("                                <i class=\"fas fa-clipboard-list\"></i> Đơn Mua\r\n");
      out.write("                            </a>\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("                        <div class=\"profile-menu-section\">\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-heading orange\" style=\"text-decoration:none;\">\r\n");
      out.write("                                <i class=\"fas fa-ticket-alt\"></i> Kho Voucher\r\n");
      out.write("                            </a>\r\n");
      out.write("                        </div>\r\n");
      out.write("\r\n");
      out.write("                        <div class=\"profile-menu-section\">\r\n");
      out.write("                            <a href=\"#\" class=\"profile-menu-heading green\" style=\"text-decoration:none;\">\r\n");
      out.write("                                <i class=\"fas fa-coins\"></i> Shopee Xu\r\n");
      out.write("                            </a>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <!-- MAIN PROFILE FORM -->\r\n");
      out.write("                <div class=\"profile-main\">\r\n");
      out.write("                    <div class=\"profile-card\">\r\n");
      out.write("                        <div class=\"profile-card-title\">Hồ Sơ Của Tôi</div>\r\n");
      out.write("                        <div class=\"profile-card-subtitle\">Quản lý thông tin hồ sơ để bảo mật tài khoản</div>\r\n");
      out.write("\r\n");
      out.write("                        ");

                            User user = (User) request.getAttribute("user");
                            if (user == null) user = acc;
                            String userName = user != null ? (user.getEmail() != null ? user.getEmail() : "") : "";
                            String fullName = user != null ? (user.getFullName() != null ? user.getFullName() : "") : "";
                            String email = user != null ? (user.getEmail() != null ? user.getEmail() : "") : "";
                            String phone = user != null ? (user.getPhone() != null ? user.getPhone() : "") : "";
                            String gender = user != null ? (user.getGender() != null ? user.getGender() : "") : "";
                            String dob = user != null ? (user.getDateOfBirth() != null ? user.getDateOfBirth() : "") : "";

                            // Mask email
                            String maskedEmail = "";
                            if (!email.isEmpty() && email.contains("@")) {
                                int atIdx = email.indexOf("@");
                                if (atIdx > 2) {
                                    maskedEmail = email.substring(0, 2) + "****" + email.substring(atIdx);
                                } else {
                                    maskedEmail = email;
                                }
                            }
                        
      out.write("\r\n");
      out.write("\r\n");
      out.write("                        <form action=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/user/account/profile\" method=\"post\">\r\n");
      out.write("                            <div class=\"profile-form-body\">\r\n");
      out.write("                                <div class=\"profile-form-left\">\r\n");
      out.write("                                    <!-- Tên đăng nhập -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\">Tên đăng nhập</div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            <input type=\"text\" value=\"");
      out.print( userName );
      out.write("\" readonly>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                    <!-- Tên -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\">Tên</div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            <input type=\"text\" name=\"fullName\" value=\"");
      out.print( fullName );
      out.write("\" placeholder=\"Nhập tên của bạn\">\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                    <!-- Email -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\">Email</div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            <div class=\"profile-form-static\">\r\n");
      out.write("                                                <span>");
      out.print( maskedEmail );
      out.write("</span>\r\n");
      out.write("                                                <a href=\"#\" class=\"profile-form-link\">Thay Đổi</a>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                    <!-- Số điện thoại -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\">Số điện thoại</div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            ");
 if (phone != null && !phone.isEmpty()) { 
      out.write("\r\n");
      out.write("                                                <div class=\"profile-form-static\">\r\n");
      out.write("                                                    <input type=\"text\" name=\"phone\" value=\"");
      out.print( phone );
      out.write("\" style=\"border: 1px solid #ddd; border-radius: 4px; padding: 0 12px; height: 40px; font-size: 14px; max-width: 380px; width: 100%;\">\r\n");
      out.write("                                                </div>\r\n");
      out.write("                                            ");
 } else { 
      out.write("\r\n");
      out.write("                                                <div class=\"profile-form-static\">\r\n");
      out.write("                                                    <input type=\"text\" name=\"phone\" value=\"\" placeholder=\"Nhập số điện thoại\">\r\n");
      out.write("                                                    <a href=\"#\" class=\"profile-form-link\">Thêm</a>\r\n");
      out.write("                                                </div>\r\n");
      out.write("                                            ");
 } 
      out.write("\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                    <!-- Giới tính -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\">Giới tính</div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            <div class=\"profile-radio-group\">\r\n");
      out.write("                                                <label>\r\n");
      out.write("                                                    <input type=\"radio\" name=\"gender\" value=\"Nam\" ");
      out.print( "Nam".equals(gender) ? "checked" : "" );
      out.write("> Nam\r\n");
      out.write("                                                </label>\r\n");
      out.write("                                                <label>\r\n");
      out.write("                                                    <input type=\"radio\" name=\"gender\" value=\"Nữ\" ");
      out.print( "Nữ".equals(gender) ? "checked" : "" );
      out.write("> Nữ\r\n");
      out.write("                                                </label>\r\n");
      out.write("                                                <label>\r\n");
      out.write("                                                    <input type=\"radio\" name=\"gender\" value=\"Khác\" ");
      out.print( "Khác".equals(gender) ? "checked" : "" );
      out.write("> Khác\r\n");
      out.write("                                                </label>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                    <!-- Ngày sinh -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\">Ngày sinh</div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            <div class=\"profile-form-static\">\r\n");
      out.write("                                                <input type=\"date\" name=\"dateOfBirth\" value=\"");
      out.print( dob );
      out.write("\">\r\n");
      out.write("                                                ");
 if (!dob.isEmpty()) { 
      out.write("\r\n");
      out.write("                                                    <a href=\"#\" class=\"profile-form-link\">Thay Đổi</a>\r\n");
      out.write("                                                ");
 } 
      out.write("\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                    <!-- Save Button -->\r\n");
      out.write("                                    <div class=\"profile-form-row\">\r\n");
      out.write("                                        <div class=\"profile-form-label\"></div>\r\n");
      out.write("                                        <div class=\"profile-form-value\">\r\n");
      out.write("                                            <button type=\"submit\" class=\"profile-save-btn\" style=\"margin-left: 0;\">Lưu</button>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("\r\n");
      out.write("                                <!-- Avatar Upload -->\r\n");
      out.write("                                <div class=\"profile-form-right\">\r\n");
      out.write("                                    <div class=\"profile-avatar-preview\">\r\n");
      out.write("                                        <i class=\"fas fa-user\"></i>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                    <label class=\"profile-avatar-upload-btn\">\r\n");
      out.write("                                        Chọn Ảnh\r\n");
      out.write("                                        <input type=\"file\" accept=\".jpg,.jpeg,.png\" style=\"display:none;\" id=\"avatarUpload\">\r\n");
      out.write("                                    </label>\r\n");
      out.write("                                    <div class=\"profile-avatar-hint\">\r\n");
      out.write("                                        Dung lượng file tối đa 1 MB<br>\r\n");
      out.write("                                        Định dạng: .JPEG, .PNG\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </form>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <!-- SCRIPTS -->\r\n");
      out.write("    <script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        // Sidebar Mobile Toggle\r\n");
      out.write("        (function() {\r\n");
      out.write("            var toggle = document.getElementById('sidebarToggle');\r\n");
      out.write("            var menu = document.getElementById('sidebarMenu');\r\n");
      out.write("            if (!toggle || !menu) return;\r\n");
      out.write("\r\n");
      out.write("            // On desktop, always show\r\n");
      out.write("            if (window.innerWidth > 992) {\r\n");
      out.write("                menu.classList.add('show');\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            toggle.addEventListener('click', function() {\r\n");
      out.write("                menu.classList.toggle('show');\r\n");
      out.write("                var icon = toggle.querySelector('.fa-chevron-down, .fa-chevron-up');\r\n");
      out.write("                if (icon) {\r\n");
      out.write("                    icon.classList.toggle('fa-chevron-down');\r\n");
      out.write("                    icon.classList.toggle('fa-chevron-up');\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("\r\n");
      out.write("            window.addEventListener('resize', function() {\r\n");
      out.write("                if (window.innerWidth > 992) {\r\n");
      out.write("                    menu.classList.add('show');\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("        })();\r\n");
      out.write("\r\n");
      out.write("        // Toast auto-hide\r\n");
      out.write("        (function() {\r\n");
      out.write("            var toast = document.getElementById('profileToast');\r\n");
      out.write("            if (toast) {\r\n");
      out.write("                setTimeout(function() {\r\n");
      out.write("                    toast.classList.remove('show');\r\n");
      out.write("                }, 3000);\r\n");
      out.write("            }\r\n");
      out.write("        })();\r\n");
      out.write("\r\n");
      out.write("        // Avatar preview\r\n");
      out.write("        (function() {\r\n");
      out.write("            var fileInput = document.getElementById('avatarUpload');\r\n");
      out.write("            if (!fileInput) return;\r\n");
      out.write("            fileInput.addEventListener('change', function(e) {\r\n");
      out.write("                var file = e.target.files[0];\r\n");
      out.write("                if (!file) return;\r\n");
      out.write("                if (file.size > 1024 * 1024) {\r\n");
      out.write("                    window.alert && false; // Don't use alert\r\n");
      out.write("                    return;\r\n");
      out.write("                }\r\n");
      out.write("                var reader = new FileReader();\r\n");
      out.write("                reader.onload = function(ev) {\r\n");
      out.write("                    var preview = document.querySelector('.profile-avatar-preview');\r\n");
      out.write("                    preview.innerHTML = '<img src=\"' + ev.target.result + '\" alt=\"Avatar\">';\r\n");
      out.write("                };\r\n");
      out.write("                reader.readAsDataURL(file);\r\n");
      out.write("            });\r\n");
      out.write("        })();\r\n");
      out.write("    </script>\r\n");
      out.write("</body>\r\n");
      out.write("\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof jakarta.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
